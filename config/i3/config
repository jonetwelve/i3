# global
set $mod Mod4
new_float normal
hide_edge_borders none
font pango:DejaVu Sans Mono 9
floating_modifier $mod
bindsym $mod+Return exec sakura
bindsym $mod+Shift+q kill
bindsym $mod+d exec --no-startup-id rofi -show run
exec --no-startup-id volumeicon
bindsym $mod+Ctrl+m exec sakura -e 'alsamixer'

# nav
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+odiaeresis move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

workspace_auto_back_and_forth yes
bindsym $mod+b workspace back_and_forth
bindsym $mod+Shift+b move container to workspace back_and_forth; workspace back_and_forth

bindsym $mod+v split toggle

bindsym $mod+f fullscreen toggle

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+Shift+s sticky toggle

bindsym $mod+a focus parent

# Workspace names
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9

bindsym $mod+Ctrl+Right workspace next
bindsym $mod+Ctrl+Left workspace prev

bindsym $mod+Ctrl+1 move container to workspace number 1
bindsym $mod+Ctrl+2 move container to workspace number 2
bindsym $mod+Ctrl+3 move container to workspace number 3
bindsym $mod+Ctrl+4 move container to workspace number 4
bindsym $mod+Ctrl+5 move container to workspace number 5
bindsym $mod+Ctrl+6 move container to workspace number 6
bindsym $mod+Ctrl+7 move container to workspace number 7
bindsym $mod+Ctrl+8 move container to workspace number 8
bindsym $mod+Ctrl+9 move container to workspace number 9

bindsym $mod+Shift+1 move container to workspace number 1; workspace 1
bindsym $mod+Shift+2 move container to workspace number 2; workspace 2
bindsym $mod+Shift+3 move container to workspace number 3; workspace 3
bindsym $mod+Shift+4 move container to workspace number 4; workspace 4
bindsym $mod+Shift+5 move container to workspace number 5; workspace 5
bindsym $mod+Shift+6 move container to workspace number 6; workspace 6
bindsym $mod+Shift+7 move container to workspace number 7; workspace 7
bindsym $mod+Shift+8 move container to workspace number 8; workspace 8
bindsym $mod+Shift+9 move container to workspace number 9; workspace 9

# Open specific applications in floating mode
for_window [class="Nitrogen"] floating enable sticky enable border normal
for_window [class="Electronic WeChat"] floating enable sticky enable border normal

# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# Resize window (you can also use the mouse for that)
bindsym $mod+r mode "resize"
mode "resize" {
        bindsym j resize shrink width 5 px or 5 ppt
        bindsym k resize grow height 5 px or 5 ppt
        bindsym l resize shrink height 5 px or 5 ppt
        bindsym odiaeresis resize grow width 5 px or 5 ppt

        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# Start i3bar to display a workspace bar (plus the system information i3status if available)
bar {
    i3bar_command i3bar -t
    tray_output yes
    separator_symbol " -ღღ⇢ "
    workspace_buttons yes
    status_command py3status -c ~/.config/i3/i3status.conf
    position top
    font pango: 文泉驿等宽微米黑,文泉驛等寬微米黑,WenQuanYi Micro Hei Mono 10
    colors {
        separator #2ECC71
        background #10101000
        statusline #DDDDDD
        focused_workspace #FFFFFF #2ECC71 #000000
        active_workspace #000000 #A4A28D #FFFFFF
        inactive_workspace #A4A28D #000000 #DDDDDD
        urgent_workspace #2ECC71 #900000 #FFFFFF
    }
}

#for_window [class="^.*"] border pixel 3
#assign [class="VirtualBox*"] workspace 3

## Autostart applications
exec --no-startup-id nm-applet
exec --no-startup-id ss-qt5
exec --no-startup-id xfce4-power-manager
exec --no-startup-id compton --config ~/.config/compton.conf -b
exec --no-startup-id xautolock -time 22 -locker "i3lock -c 222222"
exec fcitx
exec --no-startup-id ~/.local/bin/touchpad
exec --no-startup-id /usr/lib/notification-daemon-1.0/notification-daemon
exec --nostartup-id seahorse
exec --nostartup-id conky -c ~/.config/conky/conkyrc
#exec feh --randomize --bf-scale ~/background/*

# Theme colors
client.focused #444444 #2ecc71 #000000 #FFFFFF
client.unfocused #222222 #222222 #444444 #222222
client.urgent #444444 #900000 #FFFFFF #900000

bindsym XF86MonBrightnessUp exec --no-startup-id light -A 5
bindsym XF86MonBrightnessDown exec --no-startup-id light -U 5
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set Master 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set Master 5%-
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show
bindsym $mod+t exec ~/.local/bin/touchpad
bindsym $mod+Tab exec --no-startup-id rofi -show window
bindsym Mod1+Tab workspace next_on_output
bindsym Print --release exec ~/.local/bin/screenshot

set $powerlist "power: 1:poweroff 2:reboot 3:logout 4:lock"
mode $powerlist {
    bindsym 1 exec sudo shutdown -h now
    bindsym 2 exec sudo reboot
    bindsym 3 exec exec i3-msg exit
    bindsym 4 mode "default" exec i3lock -c 222222
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Escape mode $powerlist

